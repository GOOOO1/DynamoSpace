<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>文件流 | 满满Dynamo</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/img/chong.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css">
    <meta name="description" content="">
    <meta name="author" content="满满Dynamo">
    <meta name="联系方式" content="QQ:2970513337,wx:y19986209969">
    
    <link rel="preload" href="/assets/css/0.styles.6b880b11.css" as="style"><link rel="preload" href="/assets/js/app.28029b02.js" as="script"><link rel="preload" href="/assets/js/2.bd192099.js" as="script"><link rel="preload" href="/assets/js/1.f397bb8f.js" as="script"><link rel="preload" href="/assets/js/73.ffe3ae88.js" as="script"><link rel="prefetch" href="/assets/js/10.2ad50ffa.js"><link rel="prefetch" href="/assets/js/11.4c688a98.js"><link rel="prefetch" href="/assets/js/12.e21a75c9.js"><link rel="prefetch" href="/assets/js/13.9df14d70.js"><link rel="prefetch" href="/assets/js/14.f0ea81a2.js"><link rel="prefetch" href="/assets/js/15.a9ce8f8e.js"><link rel="prefetch" href="/assets/js/16.0290022d.js"><link rel="prefetch" href="/assets/js/17.c6f172fb.js"><link rel="prefetch" href="/assets/js/18.d56f3b61.js"><link rel="prefetch" href="/assets/js/19.9e757d30.js"><link rel="prefetch" href="/assets/js/20.1f12ca22.js"><link rel="prefetch" href="/assets/js/21.078a1583.js"><link rel="prefetch" href="/assets/js/22.3cdad8a0.js"><link rel="prefetch" href="/assets/js/23.b5c8359e.js"><link rel="prefetch" href="/assets/js/24.3e9510ec.js"><link rel="prefetch" href="/assets/js/25.3d94a1b5.js"><link rel="prefetch" href="/assets/js/26.3b6e9201.js"><link rel="prefetch" href="/assets/js/27.37b83962.js"><link rel="prefetch" href="/assets/js/28.667f2751.js"><link rel="prefetch" href="/assets/js/29.10df11a7.js"><link rel="prefetch" href="/assets/js/3.14dd53b9.js"><link rel="prefetch" href="/assets/js/30.8a898978.js"><link rel="prefetch" href="/assets/js/31.6c5df631.js"><link rel="prefetch" href="/assets/js/32.ce22de2d.js"><link rel="prefetch" href="/assets/js/33.37f28de4.js"><link rel="prefetch" href="/assets/js/34.ed85114d.js"><link rel="prefetch" href="/assets/js/35.df39713f.js"><link rel="prefetch" href="/assets/js/36.a8bb02a9.js"><link rel="prefetch" href="/assets/js/37.d2822682.js"><link rel="prefetch" href="/assets/js/38.7dd0708f.js"><link rel="prefetch" href="/assets/js/39.be07bab7.js"><link rel="prefetch" href="/assets/js/4.d18ce1d1.js"><link rel="prefetch" href="/assets/js/40.75e85625.js"><link rel="prefetch" href="/assets/js/41.0d362ca3.js"><link rel="prefetch" href="/assets/js/42.19dd23d5.js"><link rel="prefetch" href="/assets/js/43.574ca40b.js"><link rel="prefetch" href="/assets/js/44.fc1c0d7b.js"><link rel="prefetch" href="/assets/js/45.10f45138.js"><link rel="prefetch" href="/assets/js/46.9adb9903.js"><link rel="prefetch" href="/assets/js/47.045f82a1.js"><link rel="prefetch" href="/assets/js/48.be667b94.js"><link rel="prefetch" href="/assets/js/49.e044a5f2.js"><link rel="prefetch" href="/assets/js/5.5ebaaa95.js"><link rel="prefetch" href="/assets/js/50.32277c70.js"><link rel="prefetch" href="/assets/js/51.27ff15f6.js"><link rel="prefetch" href="/assets/js/52.8acfb7ab.js"><link rel="prefetch" href="/assets/js/53.4bcaecf9.js"><link rel="prefetch" href="/assets/js/54.4cf7f5b2.js"><link rel="prefetch" href="/assets/js/55.b059c03c.js"><link rel="prefetch" href="/assets/js/56.2dd4250d.js"><link rel="prefetch" href="/assets/js/57.7380c2f2.js"><link rel="prefetch" href="/assets/js/58.1b548d0a.js"><link rel="prefetch" href="/assets/js/59.4987656f.js"><link rel="prefetch" href="/assets/js/6.31e26b8e.js"><link rel="prefetch" href="/assets/js/60.9700471e.js"><link rel="prefetch" href="/assets/js/61.1194bd45.js"><link rel="prefetch" href="/assets/js/62.9c579590.js"><link rel="prefetch" href="/assets/js/63.3b083396.js"><link rel="prefetch" href="/assets/js/64.7efe1ab4.js"><link rel="prefetch" href="/assets/js/65.58f27ef6.js"><link rel="prefetch" href="/assets/js/66.e4eb9dee.js"><link rel="prefetch" href="/assets/js/67.9926f3e8.js"><link rel="prefetch" href="/assets/js/68.9ee9a075.js"><link rel="prefetch" href="/assets/js/69.74334fd3.js"><link rel="prefetch" href="/assets/js/7.8fd49c65.js"><link rel="prefetch" href="/assets/js/70.0be66beb.js"><link rel="prefetch" href="/assets/js/71.ee08f761.js"><link rel="prefetch" href="/assets/js/72.a80da15a.js"><link rel="prefetch" href="/assets/js/74.ead2ac1b.js"><link rel="prefetch" href="/assets/js/75.64981a8a.js"><link rel="prefetch" href="/assets/js/76.73b8ff26.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.1f6d7e80.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6b880b11.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/chong.png" alt="满满Dynamo" class="logo"> <span class="site-name can-hide">满满Dynamo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机" class="dropdown-title"><span class="title">Computer</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机" class="mobile-dropdown-title"><span class="title">Computer</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computer/cpp/" class="nav-link router-link-active">
  C++
</a></li><li class="dropdown-item"><!----> <a href="/computer/data-structure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/computer/STL/" class="nav-link">
  STL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Web/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/Web/CSS3/" class="nav-link">
  CSS3
</a></li><li class="dropdown-item"><!----> <a href="/Web/JS/" class="nav-link">
  JS
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机" class="dropdown-title"><span class="title">Computer</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机" class="mobile-dropdown-title"><span class="title">Computer</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computer/cpp/" class="nav-link router-link-active">
  C++
</a></li><li class="dropdown-item"><!----> <a href="/computer/data-structure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/computer/STL/" class="nav-link">
  STL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Web/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/Web/CSS3/" class="nav-link">
  CSS3
</a></li><li class="dropdown-item"><!----> <a href="/Web/JS/" class="nav-link">
  JS
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/computer/cpp/" class="sidebar-heading clickable router-link-active open"><span>C++</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/computer/cpp/01.html" class="sidebar-link">引用</a></li><li><a href="/computer/cpp/02.html" class="sidebar-link">函数</a></li><li><a href="/computer/cpp/03.html" class="sidebar-link">异常处理机制</a></li><li><a href="/computer/cpp/04.html" class="sidebar-link">类和对象</a></li><li><a href="/computer/cpp/05.html" class="sidebar-link">模板</a></li><li><a href="/computer/cpp/06.html" class="sidebar-link">new和delete</a></li><li><a href="/computer/cpp/07.html" class="sidebar-link">this指针</a></li><li><a href="/computer/cpp/08.html" class="sidebar-link">const关键字</a></li><li><a href="/computer/cpp/09.html" class="sidebar-link">static</a></li><li><a href="/computer/cpp/10.html" class="sidebar-link">运算符重载</a></li><li><a href="/computer/cpp/11.html" class="sidebar-link">继承</a></li><li><a href="/computer/cpp/12.html" class="sidebar-link">虚函数与多态性</a></li><li><a href="/computer/cpp/13.html" class="sidebar-link">标准模板库（STL）</a></li><li><a href="/computer/cpp/14.html" aria-current="page" class="active sidebar-link">文件流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/cpp/14.html#_1-使用文件流操作文本文件" class="sidebar-link">1.使用文件流操作文本文件</a></li><li class="sidebar-sub-header"><a href="/computer/cpp/14.html#_2-使用文件流操作二进制文件" class="sidebar-link">2.使用文件流操作二进制文件</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="十四-文件流"><a href="#十四-文件流" class="header-anchor">#</a> 十四. 文件流</h1> <blockquote><p>我们在编写程序的时候，最密不可分的就是对文件进行相应的操作，我们可以从文件中读取数据，可以将数据保存到文件，可以……</p> <p>总而言之，言而总之，一言以蔽之，对文件的操作是非常重要的，下面我们就来介绍一下 C++ 中是如何对文件进行操作的。</p></blockquote> <ul><li><p>ofstream的作用是将其类型对象fout中的内容（如：fout&lt;&lt;“abcdefg”；）存入文件，然后打开对应文件时可以在文件中看到内容</p></li> <li><p>ifstream的作用是用其类型对象fin读取文件中的内容，然后可以将这个内容传给对应类型指针，用cout语法可以在终端窗口输出传给指针的内容，如：</p></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;fstream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
string filename <span class="token operator">=</span> <span class="token raw-string string">R&quot;(路径)&quot;</span><span class="token punctuation">;</span>

ifstream ifs<span class="token punctuation">;</span>
ifs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span>ios<span class="token double-colon punctuation">::</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>

string buffer<span class="token punctuation">;</span>

<span class="token keyword">while</span><span class="token punctuation">(</span>ifs<span class="token punctuation">.</span><span class="token function">getline</span><span class="token punctuation">(</span>ifs<span class="token punctuation">,</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//getline函数一次只能传入一行</span>
<span class="token punctuation">{</span>
    cout<span class="token operator">&lt;&lt;</span>buffer<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="_1-使用文件流操作文本文件"><a href="#_1-使用文件流操作文本文件" class="header-anchor">#</a> 1.使用文件流操作文本文件</h2> <p>在 C++ 中，对文件的操作是通过 <u>stream的子类</u> <strong>fstream</strong>（ file stream ）来实现的，所以，要用这种方式操作文件，就必须加入<strong>头文件</strong><code>&lt;fstream&gt;</code>，代码如下：    <code>#include&lt;fstream&gt;</code></p> <p><u>fstream 提供了三个类</u>，用来实现 C++ 对文件的操作：</p> <ul><li><strong>ofstream</strong>: <u>写</u>操作（<u>输出</u>）的文件类（由 ostream 引申而来）</li> <li><strong>ifstream</strong>: <u>读</u>操作（<u>输入</u>）的文件类（由 istream 引申而来）</li> <li><strong>fstream</strong>: 可<u>同时读写操作</u>的文件类（由 iostream 引申而来）</li></ul> <p>使用文件流操作文件可以分为<u>三个步骤：</u><strong>打开文件</strong>、<strong>读写文件</strong>、<strong>关闭文件</strong>。</p> <p><strong>打开文件</strong></p> <p>打开文件用于读时可以使用类 fstream 或者 ifstream 函数。</p> <ul><li>ifstream 函数</li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>ifstream <span class="token function">inFile</span><span class="token punctuation">(</span><span class="token string">&quot;test.txt&quot;</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol><li>inFile 是声明的 ifstream 的一个对象（也可以叫变量，只是这个变量里面包含的东西较多，类似于结构变量），声明该对象时会自动执行一个特殊的函数：构造函数；</li> <li><code>test.txt</code>和 ios::in 是传递给该函数的参数。<code>test.txt</code>是要打开的路径和文件名，ios::in 是文件打开的方式，表示打开文件用于输入；</li> <li>执行该函数将会以读的方式打开当前目录下的文件<code>test.txt</code>。之后通过 inFile 调用一些函数就可以操作文件<code>test.txt</code>了。</li></ol> <ul><li>fstream 函数</li></ul> <p>由于类 fstream 也可以打开文件用于输入，上面的语句也可以这样写：</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>fstream <span class="token function">inFile</span><span class="token punctuation">(</span><span class="token string">&quot;test.txt&quot;</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><u>类 fstream 的文件打开方式有：</u></p> <table><thead><tr><th>打开方式</th> <th>描述</th></tr></thead> <tbody><tr><td>ios::in</td> <td>打开一个供读取的文件</td></tr> <tr><td>ios::out</td> <td>打开一个供写入的文件</td></tr> <tr><td>ios::app</td> <td>写入的所有数据将被追加到文件的末尾，此方式需要使用 ios::out</td></tr> <tr><td>ios::ate</td> <td>写入的数据将追加到文件的末尾，但也可写到其他地方，此方式不需要用 ios::out</td></tr> <tr><td>ios::trunc</td> <td>废弃当前文件内容</td></tr> <tr><td>ios::nocreate</td> <td>如果要打开的文件并不存在，那么以此参数调用 open 函数将无法进行</td></tr> <tr><td>ios::noreplace</td> <td>如果要打开的文件已存在，试图用 open 函数打开时将返回一个错误</td></tr> <tr><td>ios::binary</td> <td>以二进制的形式打开一个文件</td></tr></tbody></table> <p>其中适合于<strong>文件读</strong>的打开方式也可以用于类 ifstream ，适合于<strong>文件写</strong>的打开方式也可以用于 ofstream，ios::binary 两者都可以用。</p> <p><strong>读写文件</strong></p> <ul><li>文件的读取</li></ul> <p>如果以文本的方式操作文件（没有属性 ios::binary ），则读文件的语法和用 cin 从键盘输入的语法很像。例如下面的语句可以从文件<code>test.txt</code>中读取一个整数和一个浮点数。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span> n<span class="token punctuation">;</span>
<span class="token keyword">float</span> f<span class="token punctuation">;</span>
inFile <span class="token operator">&gt;&gt;</span> n <span class="token operator">&gt;&gt;</span> f<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>文件的写入</li></ul> <p>文件的写入也和输出到屏幕的语法很像。</p> <p>例如下面的程序将整数100和浮点数3.14写入文件<code>a.txt</code>。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">// 声明对象ofile,以读的方式打开文件a.txt</span>
ofstream <span class="token function">ofile</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 将100、空格、3.14、换行符写入文件a.txt</span>
ofile <span class="token operator">&lt;&lt;</span> <span class="token number">100</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token number">3.14</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token comment">// 关闭文件</span>
ofile<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>文件关闭</strong></p> <p>文件的关闭不管是 ifstream、ofstream 还是 fstream 的对象，都可以使用相同的语法关闭文件，即<code>xx.close();</code></p> <h2 id="_2-使用文件流操作二进制文件"><a href="#_2-使用文件流操作二进制文件" class="header-anchor">#</a> 2.使用文件流操作二进制文件</h2> <p><strong>读二进制文件</strong></p> <p>要以二进制的方式操作文件，需要首先以二进制的方式打开文件。</p> <p>例如下面的程序可以将写到文件<code>c.dat</code>中的整数读出：</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>ifstream <span class="token function">fl</span><span class="token punctuation">(</span><span class="token string">&quot;c.dat&quot;</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> n<span class="token punctuation">;</span>
fl<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>第一行程序申明 ifstream 的对象 fl ，并以二进制方式打开文件<code>c.dat</code>用于读。</p> <p>第三行从文件中读出一个整数。<u><strong>read 函数</strong>的第一个参数是读出的数据要放到内存中的位置</u>，类型为<code>char*</code>。读出的整数要赋值给 n，所以该实参为<code>&amp;n</code>，并进行了<u>类型转换</u>。<u>第二个参数是读出的字节数</u>，一个整数的字节数可以用<code>sizeof(n)</code>求得。</p> <p><strong>写二进制文件</strong></p> <p>以文件流的方式操作文件一样可以支持二进制方式的块读写。</p> <p>例如：</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>ofstream <span class="token function">cl</span><span class="token punctuation">(</span><span class="token string">&quot;c.dat&quot;</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
cl<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>t<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>第一行程序申明了 ofstream 的对象 cl，并以二进制方式（ ios::binary ）打开文件<code>c.dat</code>（如果文件<code>c.dat</code>不存在，会先创建）用于输出（ fstream 的对象的对象都是用于文件输出）。</p> <p>第三行则将整数 t 以块写入的方式写入文件<code>c.dat</code>。<u><strong>函数 write</strong> 的第一个参数是要写入文件的数据首地址，必须是<code>char*</code>类型</u>，要写入的数据是 t，所以该实参为<code>&amp;t</code>，并进行了<u>类型转换</u>。<u>第二个参数是要写入文件的字节数</u>，t 整型变量，所占字节数可以用<code>sizeof(t)</code>求得。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间：:</span> <span class="time">2/9/2025, 9:12:58 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/computer/cpp/13.html" class="prev">
        标准模板库（STL）
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.28029b02.js" defer></script><script src="/assets/js/2.bd192099.js" defer></script><script src="/assets/js/1.f397bb8f.js" defer></script><script src="/assets/js/73.ffe3ae88.js" defer></script>
  </body>
</html>
