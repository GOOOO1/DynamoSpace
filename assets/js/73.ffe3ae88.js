(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{389:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"十四-文件流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十四-文件流"}},[t._v("#")]),t._v(" 十四. 文件流")]),t._v(" "),s("blockquote",[s("p",[t._v("我们在编写程序的时候，最密不可分的就是对文件进行相应的操作，我们可以从文件中读取数据，可以将数据保存到文件，可以……")]),t._v(" "),s("p",[t._v("总而言之，言而总之，一言以蔽之，对文件的操作是非常重要的，下面我们就来介绍一下 C++ 中是如何对文件进行操作的。")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("ofstream的作用是将其类型对象fout中的内容（如：fout<<“abcdefg”；）存入文件，然后打开对应文件时可以在文件中看到内容")])]),t._v(" "),s("li",[s("p",[t._v("ifstream的作用是用其类型对象fin读取文件中的内容，然后可以将这个内容传给对应类型指针，用cout语法可以在终端窗口输出传给指针的内容，如：")])])]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<iostream>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<fstream>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<string>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("using")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" std"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nstring filename "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token raw-string string"}},[t._v('R"(路径)"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nifstream ifs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nifs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("filename"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ios"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("in"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nstring buffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ifs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ifs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("buffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//getline函数一次只能传入一行")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    cout"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v("buffer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v("endl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("h2",{attrs:{id:"_1-使用文件流操作文本文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用文件流操作文本文件"}},[t._v("#")]),t._v(" 1.使用文件流操作文本文件")]),t._v(" "),s("p",[t._v("在 C++ 中，对文件的操作是通过 "),s("u",[t._v("stream的子类")]),t._v(" "),s("strong",[t._v("fstream")]),t._v("（ file stream ）来实现的，所以，要用这种方式操作文件，就必须加入"),s("strong",[t._v("头文件")]),s("code",[t._v("<fstream>")]),t._v("，代码如下：    "),s("code",[t._v("#include<fstream>")])]),t._v(" "),s("p",[s("u",[t._v("fstream 提供了三个类")]),t._v("，用来实现 C++ 对文件的操作：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("ofstream")]),t._v(": "),s("u",[t._v("写")]),t._v("操作（"),s("u",[t._v("输出")]),t._v("）的文件类（由 ostream 引申而来）")]),t._v(" "),s("li",[s("strong",[t._v("ifstream")]),t._v(": "),s("u",[t._v("读")]),t._v("操作（"),s("u",[t._v("输入")]),t._v("）的文件类（由 istream 引申而来）")]),t._v(" "),s("li",[s("strong",[t._v("fstream")]),t._v(": 可"),s("u",[t._v("同时读写操作")]),t._v("的文件类（由 iostream 引申而来）")])]),t._v(" "),s("p",[t._v("使用文件流操作文件可以分为"),s("u",[t._v("三个步骤：")]),s("strong",[t._v("打开文件")]),t._v("、"),s("strong",[t._v("读写文件")]),t._v("、"),s("strong",[t._v("关闭文件")]),t._v("。")]),t._v(" "),s("p",[s("strong",[t._v("打开文件")])]),t._v(" "),s("p",[t._v("打开文件用于读时可以使用类 fstream 或者 ifstream 函数。")]),t._v(" "),s("ul",[s("li",[t._v("ifstream 函数")])]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[t._v("ifstream "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("inFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test.txt"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ios"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("in"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ol",[s("li",[t._v("inFile 是声明的 ifstream 的一个对象（也可以叫变量，只是这个变量里面包含的东西较多，类似于结构变量），声明该对象时会自动执行一个特殊的函数：构造函数；")]),t._v(" "),s("li",[s("code",[t._v("test.txt")]),t._v("和 ios::in 是传递给该函数的参数。"),s("code",[t._v("test.txt")]),t._v("是要打开的路径和文件名，ios::in 是文件打开的方式，表示打开文件用于输入；")]),t._v(" "),s("li",[t._v("执行该函数将会以读的方式打开当前目录下的文件"),s("code",[t._v("test.txt")]),t._v("。之后通过 inFile 调用一些函数就可以操作文件"),s("code",[t._v("test.txt")]),t._v("了。")])]),t._v(" "),s("ul",[s("li",[t._v("fstream 函数")])]),t._v(" "),s("p",[t._v("由于类 fstream 也可以打开文件用于输入，上面的语句也可以这样写：")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[t._v("fstream "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("inFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test.txt"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ios"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("in"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("u",[t._v("类 fstream 的文件打开方式有：")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("打开方式")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("ios::in")]),t._v(" "),s("td",[t._v("打开一个供读取的文件")])]),t._v(" "),s("tr",[s("td",[t._v("ios::out")]),t._v(" "),s("td",[t._v("打开一个供写入的文件")])]),t._v(" "),s("tr",[s("td",[t._v("ios::app")]),t._v(" "),s("td",[t._v("写入的所有数据将被追加到文件的末尾，此方式需要使用 ios::out")])]),t._v(" "),s("tr",[s("td",[t._v("ios::ate")]),t._v(" "),s("td",[t._v("写入的数据将追加到文件的末尾，但也可写到其他地方，此方式不需要用 ios::out")])]),t._v(" "),s("tr",[s("td",[t._v("ios::trunc")]),t._v(" "),s("td",[t._v("废弃当前文件内容")])]),t._v(" "),s("tr",[s("td",[t._v("ios::nocreate")]),t._v(" "),s("td",[t._v("如果要打开的文件并不存在，那么以此参数调用 open 函数将无法进行")])]),t._v(" "),s("tr",[s("td",[t._v("ios::noreplace")]),t._v(" "),s("td",[t._v("如果要打开的文件已存在，试图用 open 函数打开时将返回一个错误")])]),t._v(" "),s("tr",[s("td",[t._v("ios::binary")]),t._v(" "),s("td",[t._v("以二进制的形式打开一个文件")])])])]),t._v(" "),s("p",[t._v("其中适合于"),s("strong",[t._v("文件读")]),t._v("的打开方式也可以用于类 ifstream ，适合于"),s("strong",[t._v("文件写")]),t._v("的打开方式也可以用于 ofstream，ios::binary 两者都可以用。")]),t._v(" "),s("p",[s("strong",[t._v("读写文件")])]),t._v(" "),s("ul",[s("li",[t._v("文件的读取")])]),t._v(" "),s("p",[t._v("如果以文本的方式操作文件（没有属性 ios::binary ），则读文件的语法和用 cin 从键盘输入的语法很像。例如下面的语句可以从文件"),s("code",[t._v("test.txt")]),t._v("中读取一个整数和一个浮点数。")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),t._v(" f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ninFile "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("ul",[s("li",[t._v("文件的写入")])]),t._v(" "),s("p",[t._v("文件的写入也和输出到屏幕的语法很像。")]),t._v(" "),s("p",[t._v("例如下面的程序将整数100和浮点数3.14写入文件"),s("code",[t._v("a.txt")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 声明对象ofile,以读的方式打开文件a.txt")]),t._v("\nofstream "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ofile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a.txt"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ios"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将100、空格、3.14、换行符写入文件a.txt")]),t._v("\nofile "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.14")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" endl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 关闭文件")]),t._v("\nofile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[s("strong",[t._v("文件关闭")])]),t._v(" "),s("p",[t._v("文件的关闭不管是 ifstream、ofstream 还是 fstream 的对象，都可以使用相同的语法关闭文件，即"),s("code",[t._v("xx.close();")])]),t._v(" "),s("h2",{attrs:{id:"_2-使用文件流操作二进制文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用文件流操作二进制文件"}},[t._v("#")]),t._v(" 2.使用文件流操作二进制文件")]),t._v(" "),s("p",[s("strong",[t._v("读二进制文件")])]),t._v(" "),s("p",[t._v("要以二进制的方式操作文件，需要首先以二进制的方式打开文件。")]),t._v(" "),s("p",[t._v("例如下面的程序可以将写到文件"),s("code",[t._v("c.dat")]),t._v("中的整数读出：")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[t._v("ifstream "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c.dat"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ios"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("binary"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nfl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("read")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sizeof")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("第一行程序申明 ifstream 的对象 fl ，并以二进制方式打开文件"),s("code",[t._v("c.dat")]),t._v("用于读。")]),t._v(" "),s("p",[t._v("第三行从文件中读出一个整数。"),s("u",[s("strong",[t._v("read 函数")]),t._v("的第一个参数是读出的数据要放到内存中的位置")]),t._v("，类型为"),s("code",[t._v("char*")]),t._v("。读出的整数要赋值给 n，所以该实参为"),s("code",[t._v("&n")]),t._v("，并进行了"),s("u",[t._v("类型转换")]),t._v("。"),s("u",[t._v("第二个参数是读出的字节数")]),t._v("，一个整数的字节数可以用"),s("code",[t._v("sizeof(n)")]),t._v("求得。")]),t._v(" "),s("p",[s("strong",[t._v("写二进制文件")])]),t._v(" "),s("p",[t._v("以文件流的方式操作文件一样可以支持二进制方式的块读写。")]),t._v(" "),s("p",[t._v("例如：")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[t._v("ofstream "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c.dat"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ios"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("binary"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ncl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sizeof")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("第一行程序申明了 ofstream 的对象 cl，并以二进制方式（ ios::binary ）打开文件"),s("code",[t._v("c.dat")]),t._v("（如果文件"),s("code",[t._v("c.dat")]),t._v("不存在，会先创建）用于输出（ fstream 的对象的对象都是用于文件输出）。")]),t._v(" "),s("p",[t._v("第三行则将整数 t 以块写入的方式写入文件"),s("code",[t._v("c.dat")]),t._v("。"),s("u",[s("strong",[t._v("函数 write")]),t._v(" 的第一个参数是要写入文件的数据首地址，必须是"),s("code",[t._v("char*")]),t._v("类型")]),t._v("，要写入的数据是 t，所以该实参为"),s("code",[t._v("&t")]),t._v("，并进行了"),s("u",[t._v("类型转换")]),t._v("。"),s("u",[t._v("第二个参数是要写入文件的字节数")]),t._v("，t 整型变量，所占字节数可以用"),s("code",[t._v("sizeof(t)")]),t._v("求得。")])])}),[],!1,null,null,null);s.default=e.exports}}]);